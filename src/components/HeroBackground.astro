---
---

<div class="absolute inset-0 -z-10 h-full w-full overflow-hidden bg-background">
  <!-- Static Grid -->
  <div class="absolute inset-0 h-full w-full bg-[linear-gradient(to_right,#80808033_1px,transparent_1px),linear-gradient(to_bottom,#80808033_1px,transparent_1px)] dark:bg-[linear-gradient(to_right,#ffffff33_1px,transparent_1px),linear-gradient(to_bottom,#ffffff33_1px,transparent_1px)] bg-[size:24px_24px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"></div>
  
  <!-- Container for Beams -->
  <div id="beam-container" class="absolute inset-0 [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"></div>
</div>

<script>
  function spawnBeam() {
    const container = document.getElementById('beam-container');
    if (!container) return;

    const beam = document.createElement('div');
    const gridSize = 24; // Match bg-size
    const maxCols = Math.ceil(window.innerWidth / gridSize);
    const col = Math.floor(Math.random() * maxCols);
    const delay = Math.random() * 2;
    const duration = 2 + Math.random() * 3; // 2-5s

    beam.className = "absolute w-[1px] bg-gradient-to-b from-transparent via-primary/50 to-transparent opacity-0";
    beam.style.left = `${col * gridSize}px`;
    beam.style.height = `${100 + Math.random() * 200}px`; // Variable length
    beam.style.animation = `beam-drop ${duration}s linear ${delay}s`;

    container.appendChild(beam);

    // Cleanup
    setTimeout(() => {
      beam.remove();
    }, (duration + delay) * 1000);
  }

  // Spawn loop
  setInterval(spawnBeam, 300); // Frequency
</script>

<style is:global>
  @keyframes beam-drop {
    0% {
      top: -200px;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      top: 100%;
      opacity: 0;
    }
  }
</style>
