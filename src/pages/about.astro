---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Image } from 'astro:assets';
import profileImage from '@/assets/profile.png';
import Card from '@/components/ui/Card.astro';
import Badge from '@/components/ui/Badge.astro';
import Separator from '@/components/ui/Separator.astro';
import { Briefcase, MapPin, Award, Users, GraduationCap, Star } from 'lucide-astro';
import ExperienceList from '@/components/ExperienceList.astro';
import ExperienceItem from '@/components/ExperienceItem.astro';

const experience = [
  {
    company: "Callstack",
    role: "React Native Expert",
    period: "Sept 2024 – Present",
    description: "As part of the Callstack Incubator, I am dedicated to engineering a new generation of React Native developer tooling. I focus on creating high-impact open-source solutions that radically improve the developer experience (DX), making it more pleasant and efficient to build extraordinary mobile applications.",
    current: true,
  },
  {
    company: "WomanUp",
    role: "Tech Lead",
    period: "Apr 2021 – Present",
    description: "As Tech Lead, I guide the engineering team in building a robust mobile platform using React Native and supporting web interfaces. My role encompasses architectural decision-making, project management, and cloud infrastructure logic in Node.js to ensure a seamless user experience.",
  },
  {
    company: "GDG Toruń",
    role: "Founder & Leader",
    period: "June 2024 – Present",
    description: "Founded and currently lead the region's premier JavaScript-focused community. We bridge the gap between industry and academia by engaging with the local university and organizing regular meetups that foster knowledge exchange among the next generation of engineers.",
  },
  {
    company: "Bright Inventions",
    role: "Senior Frontend Developer",
    period: "Oct 2022 – July 2024",
    description: "Delivered high-quality frontend architectures and solutions, focusing on code maintainability, performance optimization, and refined user experiences.",
  },
  {
    company: "Airnauts.com",
    role: "React Architect / Full Stack Developer",
    period: "Jan 2020 – Sept 2022",
    description: "Architected complex single-page applications across a diverse stack including React, Vue, and Angular. Beyond coding, I played a key role in shaping the engineering culture by conducting interviews and mentoring junior developers, alongside building distributed backend services in .NET Core.",
  },
  {
    company: "e-Kiosk S.A.",
    role: "Frontend Engineer",
    period: "Aug 2020 – Mar 2021",
    description: "Focused on the core stability and feature expansion of a major React Native application. I was responsible for debugging critical issues and implementing new functionalities that enhanced the digital reading experience.",
  },
  {
    company: "Sellions.com",
    role: "Full Stack Developer",
    period: "June 2018 – Jan 2020",
    description: "Developed a comprehensive hybrid mobile solution using Ionic and a monolithic Java/Spring backend. I engineered systems for high-volume batch processing using Spring Batch, ensuring efficient data handling for enterprise-scale files.",
  }
];

const education = [
  {
    school: "Warsaw University of Technology",
    degree: "Master of Engineering, Applied Computer Science",
    period: "2020 – 2022",
  },
  {
    school: "Warsaw University of Technology",
    degree: "Bachelor of Engineering, Applied Computer Science",
    period: "2016 – 2020",
  }
];

const recognitions = [
  {
    title: "Microsoft MVP",
    category: "Web Development",
    description: "Recognized for exceptional community leadership and technical expertise."
  },
  {
    title: "Astro Community Award",
    category: "Open Source",
    description: "Honored for contributions to the Astro ecosystem."
  },
  {
    title: "IEEE 2020 Winner",
    category: "Academic",
    description: "Best diploma thesis under the patronage of IEEE 2020."
  }
];
---

<BaseLayout title="About Me" description="React Native Expert, Microsoft MVP, and Open Source Enthusiast.">
   {/* Hero Profile Section */}
   <div class="flex flex-col items-center gap-8 md:flex-row md:items-start md:gap-12">
    <div class="relative shrink-0">
      <div class="relative h-48 w-48 overflow-hidden rounded-full border-4 border-background bg-muted shadow-xl ring-1 ring-border/50 md:h-64 md:w-64">
        <Image 
          src={profileImage} 
          alt="Szymon Chmal" 
          class="h-full w-full object-cover"
          width={512}
          height={512}
          loading="eager"
        />
      </div>
    </div>
    
    <div class="flex-1 space-y-6 text-center md:text-left">
      <div class="space-y-2">
        <h1 class="font-heading text-4xl font-bold tracking-tight lg:text-5xl text-gradient">
          Szymon Chmal
        </h1>
        <p class="text-xl font-medium text-foreground/80">
          Senior Software Magician @ Callstack
        </p>
        <div class="flex items-center justify-center gap-2 text-muted-foreground md:justify-start">
          <MapPin class="h-4 w-4" />
          <span>Toruń, Poland</span>
        </div>
      </div>
      
      <div class="text-lg leading-relaxed text-muted-foreground space-y-4 text-balance">
        <p>
          I'm a frontend engineer turned team lead who's always been driven by curiosity and a huge believer that the best products come from great people working together.
        </p>
        <p>
          Right now, I'm on a mission to build a <strong>new generation of React Native developer tooling</strong>. I want to make it genuinely pleasant, and even fun, for developers to build extraordinary cross-platform apps. By focusing on the <strong>Developer Experience (DX)</strong>, I'm helping teams move faster and stay focused on what really matters: their users.
        </p>
        <p>
          I love talking shop and sharing what I've learned. I've given over <strong>50 talks</strong> at conferences like WeAreDevelopers, and I'm always happy to swap war stories from the dev trenches. I'm also a <strong>Microsoft MVP</strong> and I lead the <strong>GDG Toruń</strong> community in my beautiful current home.
        </p>
      </div>

      <div class="flex flex-wrap justify-center gap-3 md:justify-start pt-2">
         <Badge variant="secondary" class="px-3 py-1"><Award class="mr-1 h-3 w-3" /> Microsoft MVP</Badge>
         <Badge variant="secondary" class="px-3 py-1"><Users class="mr-1 h-3 w-3" /> GDG Organizer</Badge>
         <Badge variant="secondary" class="px-3 py-1">Open Source Enthusiast</Badge>
      </div>
    </div>
  </div>

  <Separator class="my-8 md:my-16" />

  <div class="grid gap-10 md:gap-16 md:grid-cols-[1fr_300px]">
    
    {/* Main Content */}
    <div class="space-y-10 md:space-y-16">
      {/* Experience */}
      <section class="space-y-8">
        <h2 class="flex items-center text-2xl font-bold tracking-tight">
          <Briefcase class="mr-3 h-6 w-6" /> Experience
        </h2>
        
        <ExperienceList>
          {experience.map((job) => (
            <ExperienceItem
                role={job.role}
                company={job.company}
                period={job.period}
                description={job.description}
                current={job.current}
            />
          ))}
        </ExperienceList>
      </section>

      {/* Education */}
      <section class="space-y-8">
        <h2 class="flex items-center text-2xl font-bold tracking-tight">
          <GraduationCap class="mr-3 h-6 w-6" /> Education
        </h2>
        <div class="grid gap-6">
          {education.map((edu) => (
            <div class="flex flex-col gap-1">
              <h3 class="font-bold">{edu.degree}</h3>
              <p class="text-sm text-foreground/80">{edu.school}</p>
              <p class="text-xs text-muted-foreground font-mono">{edu.period}</p>
            </div>
          ))}
        </div>
      </section>
    </div>

    {/* Sidebar */}
    <aside class="space-y-10 md:space-y-16">
      {/* Community & Awards */}
      <section class="space-y-8">
        <h2 class="flex items-center text-2xl font-bold tracking-tight">
          <Award class="mr-3 h-6 w-6" /> Recognition
        </h2>
        <div class="grid gap-4">
          {recognitions.map((item) => (
            <Card class="p-5 transition-all hover:border-foreground/20 bg-muted/10 backdrop-blur-sm">
              <h3 class="font-bold text-sm">{item.title}</h3>
              <p class="text-[10px] font-medium text-muted-foreground uppercase tracking-wider mt-1 mb-2">{item.category}</p>
              <p class="text-xs text-muted-foreground leading-relaxed">
                {item.description}
              </p>
            </Card>
          ))}
        </div>
      </section>
    </aside>

  </div>
</BaseLayout>
